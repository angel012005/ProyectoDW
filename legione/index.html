<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="stiyle.css">
    <title>Legione</title>
</head>

<body>
    <header>

        <div class="navbar">  <!--Div menu bar -->
            <div class="logo-container">
                <a href="index.html"><img src="img/logo.png" alt="Logo" class="logo-image"></a>
                <a href="index.html" class="logo-name">Legione</a>
            </div>
            
            <ul class="links">
                <li><a href="#">Inicio</a></li>

                <li class="dropdown-catalogo">
                    <a href="#">Catalogo</a>
                    <ul class="dropdown-menu-catalogo">
                        <li><a class="Size" href="hombre.html">Caballero</a></li>
                        <li><a class="Size" href="#">Dama</a></li>
                        <li><a class="Size" href="#">Niños</a></li>
                    </ul>
                </li>

                <li><a href="#">Novedades</a></li>
                <li class="dropdown-catalogo">
                    <a href="#">Ajustes</a>
                    <ul class="dropdown-menu-catalogo">
                        <li><a class="Size" href="#">Informacion de la cuenta</a></li>
                        <li><a class="Size" href="#">Contactos</a></li>
                        
                    </ul>
                </li>
            </ul>

            <div class="action-container">

                <div class="bag-shopping">
                    <a href="#"><i class="fa-solid fa-bag-shopping"></i></a>
                </div>

                <form action="">
                    <input type="text" name="Busqueda" class="busqueda" placeholder="Busqueda">
                </form>
                <a href="#" class="nav-link"> <i class="fa-solid fa-magnifying-glass"></i></a>

                <a href="login.html" class="action_btn">Iniciar sesión</a>
            </div>
            <div class="toggle_btn">
                <i class="fa-solid fa-bars"></i>
            </div>
            
            </div> <!--Fin Div navbar -->

        <div class="dropdown_menu">
            <li><a href="#">Inicio</a></li>
            <li><a href="#">Catalogo</a></li>
            <li><a href="#">Novedades</a></li>
            <li><a href="#">Ajustes</a></li>
            <li><a href="#" class="action_btn">Iniciar sesion</a></li>
        </div>
    </header>

    <div class="wrapper">
        <i id="left" class="fa-solid fa-angle-left"></i>
        <div class="carousel">
          <img src="img/botin.jpg" alt="img" draggable="false">
          <img src="img/cami.jpg" alt="img" draggable="false">
          <img src="img/chino qdidas.jpg" alt="img" draggable="false">
          <img src="img/short depo.jpg" alt="img" draggable="false">
       
        </div>
        <i id="right" class="fa-solid fa-angle-right"></i>
      </div>





    <script>
        const toggleBtn = document.querySelector('.toggle_btn')
        const toggleBtnIcon = document.querySelector('.toggle_btn i')
        const DropShadowMenu = document.querySelector('.dropdown_menu')

        toggleBtn.onclick = function (){
            DropShadowMenu.classList.toggle('open')
            const isOpen = DropShadowMenu.classList.contains('open')
            
            toggleBtnIcon.classList = isOpen
                ? 'fa-solid fa-xmark'
                : 'fa-solid fa-bars'
        }

  </script>

  <script>
    const carousel = document.querySelector(".carousel"),
    firstImg = carousel.querySelectorAll("img")[0],
    arrowIcons = document.querySelectorAll(".wrapper i");
    let isDragStart = false, isDragging = false, prevPageX, prevScrollLeft, positionDiff;
    const showHideIcons = () => {
    // showing and hiding prev/next icon according to carousel scroll left value
    let scrollWidth = carousel.scrollWidth - carousel.clientWidth; // getting max scrollable width
    arrowIcons[0].style.display = carousel.scrollLeft == 0 ? "none" : "block";
    arrowIcons[1].style.display = carousel.scrollLeft == scrollWidth ? "none" : "block";
}
    arrowIcons.forEach(icon => {
    icon.addEventListener("click", () => {
        let firstImgWidth = firstImg.clientWidth + 14; // getting first img width & adding 14 margin value
        // if clicked icon is left, reduce width value from the carousel scroll left else add to it
        carousel.scrollLeft += icon.id == "left" ? -firstImgWidth : firstImgWidth;
        setTimeout(() => showHideIcons(), 60); // calling showHideIcons after 60ms
    });
});
    const autoSlide = () => {
 
}
    const dragStart = (e) => {
    // updatating global variables value on mouse down event
    isDragStart = true;
    prevPageX = e.pageX || e.touches[0].pageX;
    prevScrollLeft = carousel.scrollLeft;
}
    const dragging = (e) => {
    // scrolling images/carousel to left according to mouse pointer
    if(!isDragStart) return;
    e.preventDefault();
    isDragging = true;
    carousel.classList.add("dragging");
    positionDiff = (e.pageX || e.touches[0].pageX) - prevPageX;
    carousel.scrollLeft = prevScrollLeft - positionDiff;
    showHideIcons();
}
    const dragStop = () => {
    isDragStart = false;
    carousel.classList.remove("dragging");
    if(!isDragging) return;
    isDragging = false;
    autoSlide();
}
    carousel.addEventListener("mousedown", dragStart);
    carousel.addEventListener("touchstart", dragStart);
    document.addEventListener("mousemove", dragging);
    carousel.addEventListener("touchmove", dragging);
    document.addEventListener("mouseup", dragStop);
    carousel.addEventListener("touchend", dragStop);
  </script>

</body>

</html>